first_aid = {'vertigo': 'Call an ambulance if the patient is unconcsious or vommiting continuosly. ' +\
                        'Lie still in a darkened room with some peace and quiet. ' +\
                        'Avoid stressful situations. Avoid bending down, or extending neck. ' +\
                        'If you want to sleep, sleep with your head slightly raised on two or even more pillows. ' +\
                        'When you wake up, do so slowly and sit up first and relax before standing up completely.' +\
                        'Move your head carefully and slowly.',
            'testicle pain': 'Call an ambulance is pain is too much. ' +\
                             'Apply an ice pack to your scrotum to help relieve pain and swelling. ' +\
                             'Wrap the ice in a cloth. Do not place the ice directly on your scrotum.',
            'rectal bleeding': 'Call an ambulance immediately. ' +\
                                'Keep track of color and consistency of the blood and stool. ' +\
                                'Also keep track of symptoms such as rectal or abdominal pain, ' +\
                                'rectal pressure, constipation, diarrhea, cramping, fever, or mucus in the stools.',
            'pulled muscles': 'Apply ice right away to reduce swelling. ' +\
                                'Wrap the ice in cloth. Do not place ice directly on the skin. ' +\
                                'Apply ice for 10 to 15 minutes every 1 hour ' +\
                                'Rest the pulled muscle for at least a day. ' +\
                                'If possible, keep the pulled muscle raised above your heart. ' +\
                                'Try not to use a strained muscle while it is still painful. ' +\
                                'Go to doctor if the pain is too much.',
            'insect bites' : 'If severe allergic reaction, call an ambulance. ' +\
                             'Otherwise, do the following: ' +\
                             'If the insects stinger is still embedded in their skin, ' +\
                             'remove it by gently scraping a flat-edged object, such as a credit card, across their skin. ' +\
                             'Avoid using tweezers to remove the stinger, since squeezing it may release more venom. ' +\
                             'Wash the area of the bite with soap and water. ' +\
                             'Place a cold compress or ice pack on the area for about 10 minutes at a time. ' +\
                             'Wrap any ice or ice packs in a clean cloth to protect their skin. ' +\
                             'Apply calamine lotion or a paste of baking soda and water to the area several times a day.',
            'stings': 'If severe allergic reaction, call an ambulance. ' +\
                        'Otherwise, do the following: ' +\
                        'If the insects stinger is still embedded in their skin, ' +\
                        'remove it by gently scraping a flat-edged object, such as a credit card, across their skin. ' +\
                        'Avoid using tweezers to remove the stinger, since squeezing it may release more venom. ' +\
                        'Wash the area of the bite with soap and water. ' +\
                        'Place a cold compress or ice pack on the area for about 10 minutes at a time. ' +\
                        'Wrap any ice or ice packs in a clean cloth to protect their skin. ' +\
                        'Apply calamine lotion or a paste of baking soda and water to the area several times a day.',
            'hypothermia': 'If situation is looking serious, call ambulance. On you end you can ' +\
                            'Restore Warmth Slowly: ' +\
                            'Get the person indoors. Remove wet clothing and dry the person off, if needed. ' +\
                            'Warm the persons trunk first, not hands and feet. Warming extremities first can cause shock. ' +\
                            'Warm the person by wrapping him or her in blankets or putting dry clothing on the person. ' +\
                            'Do not immerse the person in warm water. Rapid warming can cause heart arrhythmia. ' +\
                            'If using hot water bottles or chemical hot packs, wrap them in cloth; ' +\
                            'dont apply them directly to the skin. ' +\
                            'Give the person a warm drink, if conscious. Avoid caffeine or alcohol. ' +\
                            'Once the body temperature begins to rise, keep the person dry and wrapped ' +\
                            'in a warm blanket. Wrap the persons head and neck, as well. ',
            'heatstroke': 'Call an ambulance immediately. After that follow these instructions: ' +\
                            'Move the person into a cool place, out of direct sunlight. ' +\
                            'Remove the persons unnecessary clothing, and place the person on his or her side ' +
                            'Cool the persons entire body by sponging or spraying cold water, ' +\
                            'and fan the person to help lower the persons body temperature. ' +\
                            'Watch for signs of rapidly progressing heatstroke, such as seizure, unconsciousness ' +\
                            'for longer than a few seconds, and moderate to severe difficulty breathing. ' +\
                            'Apply ice packs in each armpit and on the back of the persons neck. ' +\
                            'Do not give aspirin or acetaminophen to reduce a high body temperature that can occur ' +\
                            'with heatstroke.If the person is awake and alert enough to swallow, give the person fluids ' +\
                            'for hydration.Make sure the person is sitting up enough so that he or she does not choke.',
            'heat exhaustion': 'Move the person out of the heat and into a shady or air-conditioned place. ' +\
                                'Lay the person down and elevate the legs and feet slightly. ' +\
                                'Remove tight or heavy clothing. ' +\
                                'Have the person drink cool water or other nonalcoholic beverage without caffeine. ' +\
                                'Cool the person by spraying or sponging with cool water and fanning. ' +\
                                'Monitor the person carefully. If signs for heatstroke appear, call an ambulance.',
            'heart palpitations': 'Call an ambulance if the palpatations occurs with dizziness, Confusion, Light-headedness ' +\
                                    'Passing out, Shortness of breath, Pain, pressure, or tightness in the chest, neck, jaw, arms, or upper back. ' +\
                                    'Otherwise, Leave a stressful situation and try to be calm. ' +\
                                    'Cut back on coffee, tea, chocolate, and soft drinks with caffeine ' +\
                                    'Dont smoke or use tobacco products. Dont drink alcohol. ' +\
                                    'Avoid medications that act like stimulants, such as cough and cold medicines or decongestants.',
            'frostbite' : 'Call an ambulance if a part of the persons body or skin is turning white and hard or black, or, ' +\
                            'The person has lack of feeling in the area, or, The person shows signs of hypothermia. ' +\
                            'Meanwhile, Get the person to a warm place and remove any wet clothing. ' +\
                            'Unless absolutely necessary, the person should not walk on frostbitten toes or feet. ' +\
                            'Do not rewarm the skin until you can keep it warm. ' +
                            'Gently warm the area in warm water (not hot) or with wet heat until the skin appears red and warm. ' +\
                            'If no water is nearby, breathe on the area through cupped hands and hold it next to your body. ' +\
                            'Do not use direct heat from heating pads, radiator, or fires. ' +\
                            'Do not rub or massage the skin or break blisters. ' +\
                            'Bandage the Area : Loosely apply dry, sterile dressings. ' +\
                            'Put gauze or clean cotton balls between fingers or toes to keep them separated.',
            'food poisoning': 'Call an ambulance if you think the food poisoning may be from seafood or wild mushrooms. ' +\
                                ' or if the person is severely dehydrated. ' +\
                                'Otherwise, follow these instructions : ' +\
                                'Avoid solid foods until vomiting ends. Then eat light, bland foods ' +\
                                'such as saltine crackers, bananas, rice, or bread. Sipping liquids may help avoid vomiting. ' +\
                                'Dont eat fried, greasy, spicy, or sweet foods. ' +\
                                'Dont take anti-nausea or anti-diarrhea medication without asking your doctor. ' +\
                                'Drink clear fluids, starting with small sips and gradually drinking more. ' +\
                                'If vomiting and diarrhea last more than 24 hours, drink an oral rehydration solution.',
            'fever in children': 'Call an ambulance immediately if the child is limp or unresponsive, ' +\
                                    'Is having trouble breathing, Is vomiting and has a headache or a stiff neck, ' +\
                                    'Has blue lips or skin, Has a rash that looks like bruises and the ' +\
                                    'bruises dont go white when pressed or if the child has a seizure'  +\
                                    'Otherwise, follow these instructions : ' +\
                                    'Take the temperature of the child - either rectally, orally or from under the arm pit. ' +\
                                    'If Temperature Is Below 102 Degrees Farenhiet, you dont need to treat the fever ' +\
                                    'unless the child is uncomfortable or has a history of seizures with fever. ' +\
                                    'Make sure the child gets plenty of fluids and rest. ' +\
                                    'If Temperature Is Above 102 Degrees Farenhiet but Below 105 Degrees farenhiet, ' +\
                                    'Bathing or sponging the child with lukewarm water may help bring down the ' +\
                                    'temperature. Do not use cold water, ice baths, or alcohol. ' +\
                                    'Do not give aspirin to a child under 18 years of age. ' +\
                                    'Call your pediatrician to see if you need to bring your child in to see the doctor.',
            'diarrhea': 'Call an ambulance if the patient is very dehydrated or has severe abdominal pain. ' +\
                        'Give an adult plenty of clear fluid, like fruit juices, soda, sports drinks and clear broth. ' +\
                        'Avoid milk or milk-based products, alcohol, apple juice, and caffeine. ' +\
                        'Give a child or infant frequent sips of a rehydration solution such as Pedialyte, CeraLyte, or Infalyte. ' +\
                        'Do not add salt tablets to a babys bottle. Make sure the person drinks more fluids than they are losing ' +\
                        'through diarrhea. If they are unable to keep up with their losses, call a doctor. ' +\
                        'Have the person rest as needed and avoid strenuous exercise.',
            'choking': 'Call an ambulance. Meanwhile, perform the following instructions - ' +\
                        'Give up to 5 blows between the shoulder blades with the heel of your hand. ' +\
                        'If the person is not pregnant or too obese, do abdominal thrusts, that is  ' +\
                        'Stand behind the person and wrap your arms around the waist. Place your clenched fist just ' +\
                        'above the persons navel. Grab your fist with your other hand. ' +\
                        'Quickly pull inward and upward as if trying to lift the person up. Perform a total of 5 ' +\
                        'abdominal thrusts. If the blockage is still not dislodged, continue cycles of 5 back blows ' +\
                        'and 5 abdominal thrusts until the object is coughed up or the person starts to breathe or cough. ' +\
                        'Take the object out of the mouth only if you can see it. Never do a finger sweep unless you can ' +\
                        'see the object in the persons mouth. ' +\
                        'If the person is obese or pregnant, do high abdominal thrusts, that is  ' +\
                        'Stand behind the person, wrap your arms around them, and position your hands at ' +\
                        'the base of the breast bone. Quickly pull inward and upward. Repeat until the object is dislodged.',
            'broken toe' : 'Seek immediate medical care if you suspect an open fracture of the toe; ' +\
                            'if there is bleeding; cold, numb, or tingling sensation; if the toe appears deformed or ' +\
                            'is pointing in the wrong direction; or blue or gray color to the injured area. ' +\
                            'Otherwise, elevate the foot, ice the injury, and stay off the foot. ' +\
                            'Buddy taping, that is, taping the toe to an adjacent toe can be used to splint a fractured toe. ',
            'bruises': 'Rest the bruised area, if possible. ' +\
                        'Ice the bruise with an ice pack wrapped in a towel. Leave it in place for 10 to 20 minutes. ' +\
                        'Compress the bruised area if it is swelling, using an elastic bandage. Dont make it too tight. ' +\
                        'Elevate the injured area. Consult doctor if needed.',
            'blood in urine': 'Call your health care provider to set up a prompt appointment, even if you only see blood ' +\
                                'once in the urine. Inform the staff about the blood when you call. ' +\
                                'Symptoms may include blood clots or red, pink, orange, or brown color in urine. ' +\
                                'Monitor - What color was the blood in the urine? Were there blood clots? ' +\
                                'If so, what size and shape? Was there blood at the beginning or end of the urine ' +\
                                'stream or during the entire stream? Was it painful for to urinate? ' +\
                                'Where was the pain located (for example, back, side, groin, or genital area)? ' +\
                                'Are there other symptoms, such as frequent or urgent urination? ' +\
                                'Burning during urination? Fever or chills? Monitor these things and report them to doctor.',
            'abdominal pain': 'Avoid activity, especially after eating. Provide clear fluids to sip, such as water, ' +\
                                'broth, or fruit juice diluted with water. Serve bland foods, such as saltine ' +\
                                'crackers, plain bread, dry toast, rice, gelatin, or applesauce. ' +\
                                'Avoid spicy or greasy foods and caffeinated or carbonated drinks until 48 hours ' +\
                                'after all symptoms have gone away. Try to have a bowel movement. ' +\
                                'Ask your doctor before taking any medicine for abdominal pain. Consult doctor if pain persists.',
            'sprains' : 'Apply ice right away to reduce swelling. ' +\
                        'Wrap the ice in cloth. Do not place ice directly on the skin. ' +\
                        'Apply ice for 10 to 15 minutes every 1 hour ' +\
                        'Rest the pulled muscle for at least a day. ' +\
                        'If possible, keep the pulled muscle raised above your heart. ' +\
                        'Try not to use a strained muscle while it is still painful. ' +\
                        'Go to doctor if the pain is too much.',
            'rash': 'Clean the skin with warm water. Avoid scrubbing the skin. ' +\
                    'Pat it dry and do not rub. Use minimal soap, opt to use gentle cleansers instead. ' +\
                    'For eczema, that is, a condition that makes your skin red and itchy, smear moisturizers on the skin. ' +\
                    'For contact dermatitis, that is, a rash caused by your skin reacting to a substance it has come into contact with, ' +\
                    'apply calamine lotions. ' +\
                    'For severe itching, apply 1% hydrocortisone cream typically to ease rashes. ' +\
                    'Do not apply cosmetic lotions directly on the skin rash. If possible, avoid covering the skin rashes. ' +\
                    'Keep it cool and moist. Apply cool compresses on the affected area several times a day. ' +\
                    'Call your doctor if the rash gets worse.',
            'sunburn': 'Consult a doctor if the burn has blisters or the skin is white-appearing or numb. ' +\
                        'Or if the concerned person is a child of below 1 years of age. ' +\
                        'Otherwise and meanwhile, follow these instructions - ' +\
                        'Replace body fluids with water, juice, or sports drinks. ' +\
                        'Apply aloe vera or over-the-counter moisturizing lotion to skin as directed. ' +\
                        'To soothe and cool skin, take a cool bath or shower or apply cool compresses to the area. ' +\
                        'If blisters form, dont break them. Protect your skin from further sun exposure.',
            'minor burns': 'Visit doctor immediately if The burn penetrates all layers of the skin. Or ' +\
                            'The skin is leathery or charred looking, with white, brown, or black patches. Or ' +\
                            'The hands, feet, face, or genitals are burned. Or The person is an infant or a senior. ' +\
                            'Otherwise, follow these steps - Cool Burn - Hold burned skin under cool (not cold) ' +\
                            'running water or immerse in cool water until pain subsides. Use compresses if running ' +\
                            'water isnt available. Protect Burn - Cover with sterile, non-adhesive bandage or clean cloth. ' +\
                            'Do not apply butter or ointments, which can cause infection. Seek medical help if: ' +\
                            'You see signs of infection, like increased pain, redness, swelling, fever, or oozing. ' +\
                            'The person needs tetanus or booster shot, depending on date of last injection. ' +\
                            'Tetanus booster should be given every 10 years. The burn blister is larger than two inches ' +\
                            'or oozes. Redness and pain last more than a few hours. Pain worsens.',
            'burns': 'For minor burns see minor burns. Visit doctor immediately if The burn penetrates all layers of the skin. Or ' +\
                            'The skin is leathery or charred looking, with white, brown, or black patches. Or ' +\
                            'The hands, feet, face, or genitals are burned. Or The person is an infant or a senior. ' +\
                            'Otherwise, follow these steps - Cool Burn - Immerse in cool water for 10 or 15 minutes. ' +\
                            'Use compresses if running water isnt available. Dont apply ice. It can lower body ' +\
                            'temperature and cause further pain and damage. Dont break blisters or apply butter or ' +\
                            'ointments, which can cause infection. Protect Burn - Cover loosely with sterile, ' +\
                            'nonstick bandage and secure in place with gauze or tape. Prevent Shock - Unless the person ' +\
                            'has a head, neck, or leg injury, or it would cause discomfort: Lay the person flat. ' +\
                            'Elevate feet about 12 inches. Elevate burn area above heart level, if possible. ' +\
                            'Cover the person with coat or blanket.',
            'spider bite': 'Call an ambulance if you were bitten by a black widow or brown recluse spider ' +\
                            'Or You are unsure whether the bite was from a poisonous spider or ' +\
                            'You have severe pain, abdominal cramping or a growing ulcer at the bite site or ' +\
                            'The person who was bitten is not breathing. Otherwise, ' +\
                            'Clean the wound. Use mild soap and water and apply an antibiotic ointment. ' +\
                            'Apply a cool compress. Use a cloth dampened with cold water or filled with ice. ' +\
                            'This helps reduce pain and swelling. If the bite is on an arm or leg, elevate it.',
            'mosquito bite': 'Avoid scratching. Use lotion. Lotions which are helpful does contain one or more of ' +\
                                'these ingredients: calamine, diphenhydramine (Benadryl), or hydro-cortisone. ' +\
                                'Cold compresses. Ice packs may help alleviate itching. Dont put ice or bags containing ice directly on the skin. ' +\
                                'Oral antihistamines. If you have serious allergic reactions to mosquito bites or you have a lot of bites, you might ' +\
                                'try oral antihistamines containing diphenhydramine, chlorpheniramine maleate, loratadine or cetirizine.',
            'sting': 'If severe allergic reaction, call an ambulance. ' +\
                    'Otherwise, do the following: ' +\
                    'If the insects stinger is still embedded in their skin, ' +\
                    'remove it by gently scraping a flat-edged object, such as a credit card, across their skin. ' +\
                    'Avoid using tweezers to remove the stinger, since squeezing it may release more venom. ' +\
                    'Wash the area of the bite with soap and water. ' +\
                    'Place a cold compress or ice pack on the area for about 10 minutes at a time. ' +\
                    'Wrap any ice or ice packs in a clean cloth to protect their skin. ' +\
                    'Apply calamine lotion or a paste of baking soda and water to the area several times a day.',
            'insect sting': 'If severe allergic reaction, call an ambulance. ' +\
                        'Otherwise, do the following: ' +\
                        'If the insects stinger is still embedded in their skin, ' +\
                        'remove it by gently scraping a flat-edged object, such as a credit card, across their skin. ' +\
                        'Avoid using tweezers to remove the stinger, since squeezing it may release more venom. ' +\
                        'Wash the area of the bite with soap and water. ' +\
                        'Place a cold compress or ice pack on the area for about 10 minutes at a time. ' +\
                        'Wrap any ice or ice packs in a clean cloth to protect their skin. ' +\
                        'Apply calamine lotion or a paste of baking soda and water to the area several times a day.',
            'bee sting': 'If severe allergic reaction, call an ambulance. ' +\
                        'Otherwise, do the following: ' +\
                        'If the bees stinger is still embedded in their skin, ' +\
                        'remove it by gently scraping a flat-edged object, such as a credit card, across their skin. ' +\
                        'Avoid using tweezers to remove the stinger, since squeezing it may release more venom. ' +\
                        'Wash the area of the bite with soap and water. ' +\
                        'Place a cold compress or ice pack on the area for about 10 minutes at a time. ' +\
                        'Wrap any ice or ice packs in a clean cloth to protect their skin. ' +\
                        'Apply calamine lotion or a paste of baking soda and water to the area several times a day.',
            'animal bite': 'Wash the bite area with soap and water; apply pressure with sterile gauze or a clean cloth ' +\
                            'if the bite is bleeding. If the bleeding has stopped, apply antibiotic ointment. ' +\
                            'Cover the area with a bandage or sterile gauze. Seek Medical Care if: the bite was from: ' +\
                            'a wild or stray animal, a pet that isnt up-to-date on rabies shots, an animal that is acting strangely, ' +\
                            'the bite has broken the skin, the bite is on the face, head, neck, hand, foot, or near a joint, ' +\
                            'a bite or scratch becomes red, hot, swollen, or increasingly painful, your child is behind on shots ' +\
                            'or has not had a tetanus shot within 5 years',
            'nosebleeds': 'Reassure the person, especially children, as crying increases blood flow. Sit the person up straight ' +\
                            'and drop their head slightly forward. Apply finger and thumb pressure on the soft part of nostrils ' +\
                            'below the bridge of the nose for at least 10 minutes. Encourage the person to breathe through their ' +\
                            'mouth while their nostrils are pinched. Loosen tight clothing around the neck. Place a cold cloth or ' +\
                            'cold pack over the persons forehead and one around the neck, especially around the sides of the neck. ' +\
                            'After 10 minutes, release the pressure on the nostrils and check to see if the bleeding has stopped. ' +\
                            'If bleeding persist, seek medical aid. Tell the person not to sniff or blow their nose for at least 15 ' +\
                            'minutes and not to pick their nose for the rest of the day. ' +\
                            'You should go to the doctor or a hospital emergency department if the bleeding does not stop after ' +\
                            'simple first aid management. It is important to find and treat the cause of ongoing bleeding.',
            'scrape': 'Wash your hands. Stop the bleeding. If needed, apply gentle pressure with a clean bandage or cloth and elevate ' +\
                            'the wound until bleeding stops. Clean the wound. Rinse the wound with water. Keeping the wound under ' +\
                            'running tap water will reduce the risk of infection. Wash around the wound with soap. ' +\
                            'But dont get soap in the wound. And dont use hydrogen peroxide or iodine, which can be irritating. ' +\
                            'Remove any dirt or debris with a tweezers cleaned with alcohol. See a doctor if you cant remove all ' +\
                            'debris. Apply an antibiotic or petroleum jelly. Apply a thin layer of an antibiotic ointment or ' +\
                            'petroleum jelly to keep the surface moist and help prevent scarring. Certain ingredients in some ' +\
                            'ointments can cause a mild rash in some people. If a rash appears, stop using the ointment. ' +\
                            'Cover the wound. Apply a bandage, rolled gauze or gauze held in place with paper tape. Covering ' +\
                            'the wound keeps it clean. If the injury is just a minor scrape or scratch, leave it uncovered. ' +\
                            'Change the dressing. Do this at least once a day or whenever the bandage becomes wet or dirty. ' +\
                            'Get a tetanus shot. Get a tetanus shot if you havent had one in the past five years and the wound ' +\
                            'is deep or dirty. Watch for signs of infection. See a doctor if you see signs of infection on the ' +\
                            'skin or near the wound, such as redness, increasing pain, drainage, warmth or swelling',
            'minor cut': 'Wash your hands. Stop the bleeding. If needed, apply gentle pressure with a clean bandage or cloth and elevate ' +\
                            'the wound until bleeding stops. Clean the wound. Rinse the wound with water. Keeping the wound under ' +\
                            'running tap water will reduce the risk of infection. Wash around the wound with soap. ' +\
                            'But dont get soap in the wound. And dont use hydrogen peroxide or iodine, which can be irritating. ' +\
                            'Remove any dirt or debris with a tweezers cleaned with alcohol. See a doctor if you cant remove all ' +\
                            'debris. Apply an antibiotic or petroleum jelly. Apply a thin layer of an antibiotic ointment or ' +\
                            'petroleum jelly to keep the surface moist and help prevent scarring. Certain ingredients in some ' +\
                            'ointments can cause a mild rash in some people. If a rash appears, stop using the ointment. ' +\
                            'Cover the wound. Apply a bandage, rolled gauze or gauze held in place with paper tape. Covering ' +\
                            'the wound keeps it clean. If the injury is just a minor scrape or scratch, leave it uncovered. ' +\
                            'Change the dressing. Do this at least once a day or whenever the bandage becomes wet or dirty. ' +\
                            'Get a tetanus shot. Get a tetanus shot if you havent had one in the past five years and the wound ' +\
                            'is deep or dirty. Watch for signs of infection. See a doctor if you see signs of infection on the ' +\
                            'skin or near the wound, such as redness, increasing pain, drainage, warmth or swelling',
            'heart attack': 'Call an ambulance immediately. Meanwhile, Have the person sit down, rest, and try to keep calm. ' +\
                            'Loosen any tight clothing. Ask if the person takes any chest pain medicine, such as nitroglycerin, ' +\
                            'for a known heart condition, and help them take it. If the pain does not go away promptly with rest or ' +\
                            'within 3 minutes of taking nitroglycerin, call for emergency medical help. If the person is unconscious ' +\
                            'and unresponsive, call ambulance, then begin CPR. If an infant or child is unconscious and unresponsive, ' +\
                            'perform 1 minute of CPR, then call emergency. Do Not leave the person alone except to call for help, ' +\
                            'if necessary. Do Not allow the person to deny the symptoms and convince you not to call for emergency help. ' +\
                            'Do Not wait to see if the symptoms go away. Do Not give the person anything by mouth unless a heart ' +\
                            'medicine has been prescribed.', 
            'stroke': 'Call emergency services immediately. If youre having stroke symptoms, have someone else call for you. ' +\
                        'Stay as calm as possible while waiting for emergency help. If youre caring for someone else having a stroke, ' +\
                        'make sure theyre in a safe, comfortable position. Preferably, this should be lying on one side with their head ' +\
                        'slightly raised and supported in case they vomit. Check to see if theyre breathing. If theyre not breathing at all, ' +\
                        'perform C P R. If theyre having difficulty breathing, loosen any constrictive clothing, such as a tie or scarf. ' +\
                        'Talk in a calm, reassuring manner. Cover them with a blanket to keep them warm. Do not give them anything to eat or drink. ' +\
                        'If the person is showing any weakness in a limb, avoid moving them. Observe the person carefully for any change in condition.',
            'bite': 'Wash the bite area with soap and water; apply pressure with sterile gauze or a clean cloth ' +\
                            'if the bite is bleeding. If the bleeding has stopped, apply antibiotic ointment. ' +\
                            'Cover the area with a bandage or sterile gauze. Seek Medical Care if: the bite was from: ' +\
                            'a wild or stray animal, a pet that isnt up-to-date on rabies shots, an animal that is acting strangely, ' +\
                            'the bite has broken the skin, the bite is on the face, head, neck, hand, foot, or near a joint, ' +\
                            'a bite or scratch becomes red, hot, swollen, or increasingly painful, your child is behind on shots ' +\
                            'or has not had a tetanus shot within 5 years',
            'cut': 'Call an ambulance Right Away if the patient has a body part, such as a fingertip, that is cut off. ' +\
                    'Put the part that was cut off in a sealed plastic bag right away. Dunk the bag in a container with ice water. ' +\
                    'Or if has a cut and the blood is spurting out and difficult to control, is bleeding so much that bandages are ' +\
                    'becoming soaked with blood. Meanwhile and otherwise, Rinse the cut or wound with water and apply pressure with sterile gauze, a bandage, or a clean cloth. ' +\
                    'If blood soaks through the bandage, place another bandage over the first and keep applying pressure. ' +\
                    'Raise the injured body part to slow bleeding. When bleeding stops, cover the wound with a new, clean bandage. ' +\
                    'Do not apply a tourniquet. Seek Medical Care if: the cut is deep or its edges are widely separated, ' +\
                    'the cut continues to ooze and bleed even after applying pressure, the injury was caused by an animal or ' +\
                    'human bite, burn, electrical injury, or puncture wound (e.g., a nail)',
}

#----------#

def build_speechlet_response(title, output, reprompt_text, should_end_session):
    return {
        'outputSpeech': {
            'type': 'PlainText',
            'text': output
        },
        'card': {
            'type': 'Simple',
            'title': title,
            'content': output
        },
        'reprompt': {
            'outputSpeech': {
                'type': 'PlainText',
                'text': reprompt_text
            }
        },
        'shouldEndSession': should_end_session
    }


def build_response(speechlet_response):
    return {
        'version': '1.0',
        'response': speechlet_response
    }
#----------#

def get_welcome_response():
    card_title = "Welcome"
    speech_output = "To get first aid information say: first aid for... then the name of your problem."
    reprompt_text = speech_output
    should_end_session = False
    return build_response(build_speechlet_response(card_title, speech_output, reprompt_text, should_end_session))
    
def get_end_response():
    card_title = "Goodbye"
    speech_output = "Hope we helped you."
    reprompt_text = speech_output
    should_end_session = True
    return build_response(build_speechlet_response(
        card_title, speech_output, reprompt_text, should_end_session))


def handle_session_end_request():
    card_title = "Session Ended"
    speech_output = "Hope we helped you."
    should_end_session = True
    return build_response(build_speechlet_response(
        card_title, speech_output, None, should_end_session))
        
def getFirstAid(intent, session):
    if 'value' in intent['slots']['problem']:
        my_problem=intent['slots']['problem']['value']
        my_problem=my_problem.lower()
        if my_problem in first_aid:
            my_solution=first_aid[my_problem]
            speech_output= my_solution
            reprompt_text = speech_output
            should_end_session=True
        else:
            speech_output = "Sorry, I dont have that information"
            reprompt_text = speech_output
            should_end_session = True
        return build_response(build_speechlet_response(
            "", speech_output, reprompt_text, should_end_session))
    else:
        speech_output="I am sorry, I dont have that information"
        reprompt_text="I am sorry, I dont have that information"
        should_end_session=True
        return build_response(build_speechlet_response(
            "", speech_output, reprompt_text, should_end_session))
        
#----------#

def on_session_started(session_started_request, session):
    return get_welcome_response()

def on_launch(launch_request, session):
    return get_welcome_response()
    

def on_intent(intent_request, session):
    intent = intent_request['intent']
    intent_name = intent_request['intent']['name']

    if intent_name == "getFirstAidIntent":
        return getFirstAid(intent, session)
    elif intent_name == "AMAZON.HelpIntent":
        return get_welcome_response()
    elif intent_name == "AMAZON.CancelIntent" or intent_name == "AMAZON.StopIntent":
        return handle_session_end_request()
    else:
        raise ValueError("Invalid intent")

def on_session_ended(session_ended_request, session):
    return get_end_response()
    
#----------#

def lambda_handler(event, context):
    if event['session']['new']:
        on_session_started({'requestId': event['request']['requestId']},
                           event['session'])

    if event['request']['type'] == "LaunchRequest":
        return on_launch(event['request'], event['session'])
    elif event['request']['type'] == "IntentRequest":
        return on_intent(event['request'], event['session'])
    elif event['request']['type'] == "SessionEndedRequest":
        return on_session_ended(event['request'], event['session'])
